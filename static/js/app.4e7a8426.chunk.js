(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{581:function(e,t,a){e.exports=a.p+"static/media/queries.2c04ca13.rq"},583:function(e,t,a){"use strict";a.d(t,"a",(function(){return Ue}));var n=a(47),r=a.n(n),o=a(0),l=a.n(o),i=a(12),c=a(85),s=a(60),p=a(582),u=a(1194),d=(a(856),a(56)),m=a.n(d),g=a(1177),h=a(1185),b=a(1186),f=a(1183),v=a(585),E=a(1200),y=a(1180),w=a(1135),_=a(1184),j=a(1187),O=a(534),x=a.n(O),S=a(402),k=a.n(S),P=a(532),L=a.n(P),I=a(533),T=a.n(I),C=a(31),R=a.n(C),N=a(350),q=a(1181),D=a(1201),A=(a(1197),a(1196)),F=l.a.createContext(),B=a(1199),z=a(1182),W=a(1195),G=a(531),H=a.n(G);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=Object(g.a)((function(e){return{settingsForm:{width:"90%","& .MuiFormControl-root":{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"& .MuiFormHelperText-root":{marginTop:e.spacing(0),marginBottom:e.spacing(1)}},saveButton:{textTransform:"none",margin:e.spacing(2,2)},fullWidth:{width:"100%"},normalFont:{fontSize:"14px"},smallerFont:{fontSize:"12px"},alignLeft:{textAlign:"left"},paperPadding:{padding:e.spacing(1,1),margin:e.spacing(1,1)},marginBottom:{marginBottom:e.spacing(1)},paperTitle:{fontWeight:300,marginBottom:e.spacing(1)}}}));function Q(){var e=M(),t=l.a.useState({solid_webid:"",search_text:"",describe_uri:"",describe_endpoint:"",metadata_endpoint:"",open:!1,dialogOpen:!1,sparql_endpoint_autocomplete:"",metadata_endpoint_autocomplete:"",search_query_autocomplete:"",search_query:"",custom_search_query:""}),a=r()(t,2),n=a[0],o=a[1],i=l.a.useRef(n),c=l.a.useCallback((function(e){i.current=X(X({},i.current),e),o(i.current)}),[o]),s=l.a.useContext(F),p=r()(s,2),u=p[0],d=p[1];function m(e){console.log("Update state "),e&&e.target&&(e.target.value&&0!==e.target.value?c({sparql_endpoint_autocomplete:e.target.value}):c({sparql_endpoint_autocomplete:e.target.innerText}))}function g(e){console.log("Update state "),e&&e.target&&(e.target.value&&0!==e.target.value?c({sparql_endpoint_autocomplete:e.target.value}):c({sparql_endpoint_autocomplete:e.target.innerText}))}function h(e){var t="";e&&e.target&&(t=e.target.value&&0!==e.target.value?e.target.value:e.target.innerText);var a="";a="Optimized search in Virtuoso"===t?v:"Optimized search in Ontotext GraphDB"===t?b:"Define a custom search query"===t?n.custom_search_query:E,c({search_query:a,search_query_autocomplete:t})}var b="PREFIX luc: <http://www.ontotext.com/owlim/lucene#>\nSELECT ?foundUri ?foundLabel {\n    ?foundLabel luc:searchIndex '$TEXT_TO_SEARCH*' ;\n    luc:score ?score .\n    ?foundUri ?p ?foundLabel .\n} ORDER BY ?score LIMIT 200",v="SELECT ?foundUri ?foundLabel WHERE {\n    ?foundUri <http://www.w3.org/2000/01/rdf-schema#label> ?foundLabel .\n    ?foundLabel bif:contains '$TEXT_TO_SEARCH' .\n} LIMIT 200",E="SELECT ?foundUri ?foundLabel WHERE {\n    ?foundUri ?p ?foundLabel .\n    VALUES ?p {<http://www.w3.org/2000/01/rdf-schema#label> <https://w3id.org/biolink/vocab/name>} .\n    FILTER(isLiteral(?foundLabel))\n    FILTER contains(?foundLabel, '$TEXT_TO_SEARCH')\n} LIMIT 5";return l.a.useEffect((function(){var e=localStorage.getItem("intothegraphSettings");if(e){var t=JSON.parse(e);c({describe_endpoint:t.sparql_endpoint,search_query:t.search_query,search_query_autocomplete:t.search_query_autocomplete})}}),[]),l.a.createElement(q.a,{className:"mainContainer"},l.a.createElement("form",{onSubmit:function(e){!function(e){c({open:!0}),console.log("context before change, and sparql endpoint autocomplete value"),console.log(u),console.log(n.sparql_endpoint_autocomplete),d(n.sparql_endpoint_autocomplete),console.log("Context after setContext"),console.log(u);var t={sparql_endpoint:n.sparql_endpoint_autocomplete,metadata_endpoint:n.metadata_endpoint_autocomplete,search_query:n.search_query,search_query_autocomplete:n.search_query_autocomplete};localStorage.setItem("intothegraphSettings",JSON.stringify(t))}()}},l.a.createElement(B.a,{className:e.settingsForm,style:{width:"60ch",textAlign:"left"}},l.a.createElement(N.a,{variant:"h5",className:e.paperTitle,style:{textAlign:"center"}},"Settings"),l.a.createElement(z.a,{style:{textAlign:"center"}},"Stored in a cookie \ud83c\udf6a"),l.a.createElement(N.a,{variant:"body1"},"\ud83d\udd17 SPARQL endpoint URL"),l.a.createElement(A.a,{onChange:m,onInputChange:m,id:"autocomplete-sparql-endpoint",options:["https://graphdb.dumontierlab.com/repositories/trek","https://graphdb.dumontierlab.com/repositories/bio2vec","https://graphdb.dumontierlab.com/repositories/ncats-red-kg","https://graphdb.dumontierlab.com/repositories/bio2rdf-ammar","https://bio2rdf.org/sparql","http://dbpedia.org/sparql","http://rdf.disgenet.org/sparql/","http://rdf.pathwaycommons.org/sparql/","https://stars-app.renci.org/uberongraph/sparql","http://w3id.org/FAIR_COVID19/sparql/","https://graphdb.dumontierlab.com/repositories/covid-kg","https://graphdb.dumontierlab.com/repositories/geoeconomics","https://data.gesis.org/claimskg/sparql","http://opencitations.net/index/sparql","http://opencitations.net/sparql","https://joinup.ec.europa.eu/sparql/","http://data.europa.eu/euodp/sparqlep","http://publications.europa.eu/webapi/rdf/sparql","http://digital-agenda-data.eu/data/sparql","http://data.persee.fr/sparql","http://lod.openlinksw.com/sparql","http://data.doremus.org/sparql","http://data.allie.dbcls.jp/sparql/","http://sparql.southgreen.fr","https://sparql.nextprot.org","http://localhost:7200/repositories/demo","http://localhost:8890/sparql","http://localhost:8082/bigdata/sparql"],freeSolo:!0,includeInputInList:!0,ListboxProps:{className:e.alignLeft},renderInput:function(e){return l.a.createElement(W.a,R()({},e,{label:"SPARQL endpoint URL",variant:"outlined"}))}}),l.a.createElement(N.a,{variant:"body1"},"\ud83c\udff7\ufe0f Metadata endpoint URL"),l.a.createElement(A.a,{onChange:g,onInputChange:g,id:"autocomplete-metadata-endpoint",options:["https://graphdb.dumontierlab.com/repositories/trek"],freeSolo:!0,includeInputInList:!0,ListboxProps:{className:e.alignLeft},renderInput:function(e){return l.a.createElement(W.a,R()({},e,{label:"Metadata endpoint URL",variant:"outlined"}))}}),l.a.createElement(N.a,{variant:"body1"},"\ud83d\udd0e Search query"),l.a.createElement(A.a,{onChange:h,onInputChange:h,id:"autocomplete-search-query",options:["Generic search query","Optimized search in Virtuoso","Optimized search in Ontotext GraphDB","Define a custom search query"],freeSolo:!1,ListboxProps:{className:e.alignLeft},renderInput:function(e){return l.a.createElement(W.a,R()({},e,{label:"Search query",variant:"outlined"}))}}),l.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary"},l.a.createElement(H.a,null),"\xa0Save settings"),l.a.createElement(D.a,{open:n.open,onClose:function(e,t){c({open:!1})},autoHideDuration:3e3}))))}function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=Object(g.a)((function(e){return{menuButton:{color:e.palette.common.white,margin:e.spacing(1,1)},solidButton:{backgroundColor:e.palette.primary.main,color:"#fff",borderRadius:"6px",padding:"7px 14px","&:hover":{backgroundColor:e.palette.primary.dark,cursor:"pointer"}},linkButton:{textTransform:"none",textDecoration:"none"},linkLogo:{alignItems:"center",display:"flex"},paperPadding:{padding:e.spacing(2,2),margin:e.spacing(2,2)},paperSearch:{padding:"2px 4px",display:"flex",alignItems:"center",width:"40%"},searchInput:{marginLeft:e.spacing(1),width:"50%",fontSize:"14px",flex:1},iconButton:{padding:5}}}));function Y(){var e=$(),t=l.a.useState({solid_webid:"",search_text:"",describe_uri:"",describe_endpoint:""}),a=r()(t,2),n=a[0],o=a[1],i=l.a.useState(!1),p=r()(i,2),u=p[0],d=p[1],m=l.a.useState(null),g=r()(m,2),O=g[0],S=g[1],P=l.a.useRef(n),I=l.a.useCallback((function(e){P.current=J(J({},P.current),e),o(P.current)}),[o]),C=Object(s.e)();return l.a.createElement(h.a,{title:"",position:"static"},l.a.createElement(b.a,{variant:"dense"},l.a.createElement(c.b,{to:"/",className:e.linkButton},l.a.createElement(j.a,{title:"Bio2RDF homepage"},l.a.createElement(f.a,{className:e.menuButton},l.a.createElement(L.a,null),"\xa0Bio2RDF"))),l.a.createElement(c.b,{to:"/describe?uri=http://bio2rdf.org/drugbank:DB00002",className:e.linkButton},l.a.createElement(j.a,{title:"Describe an URI in a SPARQL endpoint"},l.a.createElement(f.a,{className:e.menuButton},l.a.createElement(k.a,null),"\xa0Describe URI"))),l.a.createElement("div",{className:"flexGrow"}),l.a.createElement(v.a,{component:"form",className:e.paperSearch,onSubmit:function(e){e.preventDefault(),C.push("/describe?uri="+n.search_text)}},l.a.createElement(E.a,{className:e.searchInput,placeholder:"Search",onChange:function(e){I({search_text:e.target.value})},inputProps:{"aria-label":"search"}}),l.a.createElement(y.a,{type:"submit",className:e.iconButton,"aria-label":"search"},l.a.createElement(k.a,null))),l.a.createElement(j.a,{title:"Application settings"},l.a.createElement(f.a,{className:e.menuButton,onClick:function(e){console.log("Click button!"),S(O?null:e.currentTarget),d((function(e){return!e}))}},l.a.createElement(T.a,null))),l.a.createElement(w.a,{open:u,anchorEl:O},l.a.createElement(_.a,{onClickAway:function(){d(!1),S(O?null:O),console.log("Click away!")}},l.a.createElement(v.a,{elevation:4,className:e.paperPadding},l.a.createElement(Q,null)))),l.a.createElement(j.a,{title:"Go to https://github.com/vemonet/bio2rdf-website"},l.a.createElement(f.a,{className:e.menuButton,target:"_blank",href:"https://github.com/vemonet/bio2rdf-website",rel:"noopener noreferrer"},l.a.createElement(x.a,null)))))}var K=Object(g.a)((function(e){return{darkLink:{textDecoration:"none",color:"inherit","&:hover":{color:e.palette.primary.light,textDecoration:"none"}},whiteLink:{textDecoration:"none",color:"inherit","&:hover":{color:e.palette.primary.dark,textDecoration:"none"}},footer:{padding:e.spacing(2),marginTop:"auto",color:"white",backgroundColor:e.palette.primary.main}}}));function Z(){var e=K();return l.a.createElement(N.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement("a",{className:e.darkLink,target:"_blank",rel:"noopener noreferrer",href:"https://maastrichtuniversity.nl/ids"},"Institute of Data Science at Maastricht University")," ","2020.")}function ee(){var e=K();return l.a.createElement("footer",{className:e.footer},l.a.createElement(q.a,{maxWidth:"md",style:{textAlign:"center"}},l.a.createElement(N.a,{variant:"body2"},"This website is licensed under the\xa0",l.a.createElement("a",{className:e.whiteLink,target:"_blank",rel:"noopener noreferrer",href:"https://github.com/vemonet/bio2rdf-website/blob/main/LICENSE"},"MIT license"),l.a.createElement("br",null),"License of the displayed data is defined by the SPARQL endpoint provider"),l.a.createElement(Z,null)))}var te=a(117),ae=a(1192),ne=a(182),re=a.n(ne),oe=(a(435),a(346)),le=a.n(oe),ie=(a(886),a(131)),ce=a(10),se=a(327),pe=a.n(se),ue=a(153),de=a.n(ue),me=a(328),ge=a.n(me),he="https://bio2rdf.137.120.31.102.nip.io/sparql",be={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",skos:"http://www.w3.org/2004/02/skos/core#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",dctypes:"http://purl.org/dc/dcmitype/",csvw:"http://www.w3.org/ns/csvw#",bl:"https://w3id.org/biolink/vocab/",biolink:"http://w3id.org/biolink/vocab/",d2s:"https://w3id.org/d2s/",omop:"http://api.ohdsi.org/WebAPI/vocabulary/concept/",cohd:"https://w3id.org/trek/cohd/",bio2rdf:"http://bio2rdf.org/",dbo:"http://dbpedia.org/ontology/",dbp:"http://dbpedia.org/property/",wd:"http://www.wikidata.org/entity/",wdt:"http://www.wikidata.org/prop/direct/",foaf:"http://xmlns.com/foaf/0.1/",idot:"http://identifiers.org/idot/",dcat:"http://www.w3.org/ns/dcat#",void:"http://rdfs.org/ns/void#","void-ext":"http://ldf.fi/void-ext#",obo:"http://purl.obolibrary.org/obo/",ncit:"http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#",xsd:"http://www.w3.org/2001/XMLSchema#",schema:"https://schema.org/",cito:"http://purl.org/spar/cito/",prov:"http://www.w3.org/ns/prov#",pav:"http://purl.org/pav/",pplan:"http://purl.org/net/p-plan#",np:"http://www.nanopub.org/nschema#",npx:"http://purl.org/nanopub/x/",oad:"http://culturalis.org/oad#",virtrdf:"http://www.openlinksw.com/schemas/virtrdf#",sd:"http://www.w3.org/ns/sparql-service-description#",gpml:"http://vocabularies.wikipathways.org/gpml#",wp:"http://vocabularies.wikipathways.org/wp#",gr:"http://purl.org/goodrelations/v1#",ido:"https://identifiers.org/"},fe=Object(g.a)((function(e){return{uriLink:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)","& :hover":{color:e.palette.primary.main},overflowWrap:"break-word"}}}));function ve(e){var t=fe(),a=be;return/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(e.uri)?l.a.createElement(c.b,{to:{pathname:"/describe",search:"?uri="+e.uri},className:t.uriLink},l.a.createElement(N.a,{variant:e.variant,className:e.passClass,style:{overflowWrap:"break-word"}},function(e){for(var t in a)if(e.startsWith(a[t]))return e.replace(a[t],t+":");return e}(e.uri))):l.a.createElement(N.a,{variant:e.variant,className:e.passClass,style:{textAlign:"left",overflowWrap:"break-word"}},e.uri)}var Ee=a(1188),ye=a(1189),we=a(1190),_e=a(1191),je=a(579),Oe=a.n(je),xe=a(580),Se=a.n(xe);function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Le=Object(g.a)((function(e){return{link:{textDecoration:"none",color:e.palette.primary.main,"&:hover":{color:e.palette.secondary.main,textDecoration:"none"}}}}));function Ie(){Le(),Object(te.a)();var e=l.a.useState({show_info_card:!1}),t=r()(e,2),a=t[0],n=t[1],o=l.a.useRef(a),i=l.a.useCallback((function(e){o.current=Pe(Pe({},o.current),e),n(o.current)}),[n]);return l.a.createElement(Ee.a,null,l.a.createElement(ye.a,{action:l.a.createElement(y.a,{style:{fontSize:"16px"},onClick:function(){i({show_info_card:!a.show_info_card})},name:"show_info_card","aria-expanded":a.show_info_card,"aria-label":"show about"},"About\xa0",!a.show_info_card&&l.a.createElement(Oe.a,null),a.show_info_card&&l.a.createElement(Se.a,null)),title:"Bio2RDF",subheader:"Linked Data for the Life Sciences"}),l.a.createElement(we.a,{in:a.show_info_card,timeout:"auto",unmountOnExit:!0},l.a.createElement(_e.a,{style:{textAlign:"left"}},l.a.createElement(N.a,{variant:"body1"},"Bio2RDF is an open-source project that uses Semantic Web technologies to build and provide the largest network of Linked Data for the Life Sciences. Bio2RDF defines a set of simple conventions to create RDF(S) compatible Linked Data from a diverse set of heterogeneously formatted sources obtained from multiple data providers."))))}var Te=a(581),Ce=a.n(Te);function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var qe=a(356);qe.DataTable=a(436),de.a.use(ge.a);var De=Object(g.a)((function(e){return{margin:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},paperSearch:{padding:"2px 4px",display:"flex",alignItems:"center",width:"30%"},searchInput:{marginLeft:e.spacing(1),width:"50%",fontSize:"14px",flex:1},link:{textDecoration:"none",textTransform:"none",color:e.palette.primary.main,"&:hover":{color:e.palette.secondary.main,textDecoration:"none"}},paperPadding:{padding:e.spacing(2,2),margin:e.spacing(2,0)},paperQuery:{padding:e.spacing(2,2),margin:e.spacing(2,0),"&:hover":{transform:"scale3d(1.05, 1.05, 1)"}},cardSubtitle:{fontSize:14,marginTop:8},loadSpinner:{padding:e.spacing(10,10)}}}));function Ae(){var e=De(),t=Object(te.a)(),a=l.a.useState({isLoading:!0,sparql_queries:[],yasgui:{},search:"",get_all_graphs_results:[],hcls_overview_results:[],entities_relations_overview_results:[],graph_data:{nodes:[],edges:[]},cytoscape_elements:[],repositories_hash:{},category_pie:{}}),n=r()(a,2),o=n[0],i=n[1],c=l.a.useRef(o),s=l.a.useCallback((function(e){c.current=Ne(Ne({},c.current),e),i(c.current)}),[i]);function p(e){return e?e.value:"Not computed"}l.a.useEffect((function(){var e=he,t=[];fetch(Ce.a).then((function(e){return e.text()})).then((function(e){console.log("SparqlQueries"),e.split("---").forEach((function(e){var a,n=[],r=e;e.split("\n").forEach((function(e){e.startsWith("#+ summary: ")&&(a=e.replace("#+ summary: ","")),e.startsWith("#+ ")&&(r=r.replace(e+"\n",""),n.push(e.replace("#+ ","")))})),t.push({summary:a,params:n.join("\n"),query:r,full_query:e})})),console.log(t),s({sparql_queries:t})})),le.a.defaults.requestConfig.endpoint=e;var a=new le.a(document.getElementById("yasguiDiv"),{requestConfig:{endpoint:e},copyEndpointOnNewTab:!0});s({yasgui:a}),re.a.get(e+"?query="+encodeURIComponent(u)).then((function(e){console.log("after get all graphs"),console.log(e),e.data.results&&(s({get_all_graphs_results:e.data.results.bindings}),qe("#datatableAllGraphs").DataTable({autoWidth:!1}))})).catch((function(e){console.log("Query to get all graphs failed"),console.log(e)})),re.a.get(e+"?query="+encodeURIComponent(d)).then((function(e){e.data.results&&(s({hcls_overview_results:e.data.results.bindings}),qe("#datatableHclsOverview").DataTable({autoWidth:!1}))})).catch((function(e){console.log("Query to get HCLS stats overview failed"),console.log(e)})),re.a.get(e+"?query="+encodeURIComponent(m)).then((function(e){if(e.data.results){s({entities_relations_overview_results:e.data.results.bindings}),qe("#datatableEntitiesRelationOverview").DataTable({autoWidth:!1});var t={},a={},n=[],r=1,o=0;e.data.results.bindings.forEach((function(e){var l=1;e.subjectCount&&(l=e.subjectCount.value),e.subject.value in t?t[e.subject.value].data.size+=l:(t[e.subject.value]={id:e.subject.value,position:{x:80*r,y:100*r},data:{uri:e.subject.value,color:"red",size:l}},r+=1);var i=1;if(e.objectCount&&(i=e.objectCount.value),e.object&&(e.object.value in t?t[e.object.value].data.size+=i:(t[e.object.value]={id:e.object.value,position:{x:80*r,y:40*r},data:{uri:e.object.value,color:"green",size:i}},r+=1)),e.object&&o<100){var c=e.subject.value+e.predicate.value+e.object.value;c in a||(e.object.value!==e.subject.value&&(a[c]={id:c,source:e.subject.value,target:e.object.value,data:{uri:e.predicate.value,color:"green"}},n.push({data:{source:e.subject.value,target:e.object.value,label:e.predicate.value}})),o+=1)}}));var l=Object.keys(t).map((function(e){return n.push({data:{id:e,label:e,size:t[e].data.size}}),t[e]})),i=Object.keys(a).map((function(e){return a[e]}));console.log("Graph nodes and edges data"),console.log(l),console.log(a),s({graph_data:{nodes:l,edges:i},cytoscape_elements:n,isLoading:!1})}})).catch((function(e){console.log("Query to get all HCLS entities-relations infos FAILED:"),console.log(e)}))}),[]);var u="SELECT DISTINCT ?graph WHERE { GRAPH ?graph {?s ?p ?o} }",d="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n  PREFIX dct: <http://purl.org/dc/terms/>\n  PREFIX dctypes: <http://purl.org/dc/dcmitype/>\n  PREFIX dcat: <http://www.w3.org/ns/dcat#>\n  PREFIX void: <http://rdfs.org/ns/void#>\n  PREFIX dc: <http://purl.org/dc/elements/1.1/>\n  PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n  SELECT DISTINCT ?graph ?name ?description ?homepage ?dateGenerated ?statements ?entities ?properties ?classes\n  WHERE {\n    GRAPH ?metadataGraph {\n      ?graph a void:Dataset .\n      OPTIONAL {\n        ?dataset a dctypes:Dataset ;\n          dct:title ?name ;\n          dct:description ?description ;\n          foaf:page ?homepage .\n        ?version dct:isVersionOf ?dataset ;\n          dcat:distribution ?graph .\n      }\n      OPTIONAL {\n        ?graph void:triples ?statements ;\n          void:entities ?entities ;\n          void:properties ?properties .\n      }\n      OPTIONAL {\n        ?graph dct:created ?dateGenerated .\n      }\n      OPTIONAL {\n        ?graph void:classPartition [\n          void:class rdfs:Class ;\n          void:distinctSubjects ?classes\n        ] .\n      }\n    }\n  } ORDER BY DESC(?statements)",m="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n  PREFIX dct: <http://purl.org/dc/terms/>\n  PREFIX bl: <http://w3id.org/biolink/vocab/>\n  PREFIX dctypes: <http://purl.org/dc/dcmitype/>\n  PREFIX idot: <http://identifiers.org/idot/>\n  PREFIX dcat: <http://www.w3.org/ns/dcat#>\n  PREFIX void: <http://rdfs.org/ns/void#>\n  PREFIX dc: <http://purl.org/dc/elements/1.1/>\n  PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n  PREFIX void-ext: <http://ldf.fi/void-ext#>\n  SELECT DISTINCT ?metadataGraph ?graph ?subjectCount ?subject ?predicate ?objectCount ?object\n  WHERE {\n    GRAPH ?metadataGraph {\n      # ?graph a void:Dataset .\n      ?graph void:propertyPartition [\n        void:property ?predicate ;\n        void:classPartition [\n          void:class ?subject ;\n          void:distinctSubjects ?subjectCount ;\n        ];\n        void-ext:objectClassPartition [\n        void:class ?object ;\n        void:distinctObjects ?objectCount ;\n        ]\n      ] .\n      }\n    } ORDER BY DESC(?subjectCount)";return l.a.createElement(q.a,{className:"mainContainer"},l.a.createElement(Ie,null),l.a.createElement(v.a,{elevation:4,className:e.paperPadding,style:{textAlign:"left",marginTop:t.spacing(4)}},l.a.createElement("div",{id:"yasguiDiv"})),l.a.createElement(N.a,{variant:"h5",style:{textAlign:"center",marginTop:t.spacing(6),marginBottom:t.spacing(2)}},"SPARQL queries for Bio2RDF"),o.sparql_queries.map((function(t,a){return l.a.createElement("div",{onClick:function(){!function(e){var t=o.yasgui;t.addTab(!0,Ne(Ne({},le.a.Tab.getDefaults()),{},{yasqe:{value:e}})),s({yasgui:t})}(t.query)}},l.a.createElement(v.a,{elevation:2,className:e.paperQuery,style:{cursor:"pointer",textAlign:"center"}},l.a.createElement(N.a,{variant:"body1"},t.summary)))})),Object.keys(o.get_all_graphs_results).length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{variant:"h5",className:e.margin,style:{marginTop:t.spacing(6)}},"Graphs overview"),l.a.createElement(v.a,{elevation:4,className:e.paperPadding},l.a.createElement("table",{id:"datatableAllGraphs",style:{wordBreak:"break-all"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Graphs"))),l.a.createElement("tbody",null,o.get_all_graphs_results.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement(ve,{variant:"body2",uri:e.graph.value})))})))))),Object.keys(o.hcls_overview_results).length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{variant:"h5",className:e.margin,style:{marginTop:t.spacing(6)}},"Endpoint ",l.a.createElement("b",null,"descriptive metadata")," (",l.a.createElement("a",{href:he,className:e.link},"HCLS"),")"),l.a.createElement(v.a,{elevation:4,className:e.paperPadding},l.a.createElement("table",{id:"datatableHclsOverview",style:{wordBreak:"break-all"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Graph"),l.a.createElement("th",null,"Date generated"),l.a.createElement("th",null,"# of triples"),l.a.createElement("th",null,"# of entities"),l.a.createElement("th",null,"# of properties"),l.a.createElement("th",null,"# of classes"))),l.a.createElement("tbody",null,o.hcls_overview_results.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement(ve,{variant:"body2",uri:e.graph.value})),l.a.createElement("td",null,l.a.createElement(N.a,{variant:"body2"},p(e.dateGenerated))),l.a.createElement("td",null,l.a.createElement(N.a,{variant:"body2"},p(e.statements))),l.a.createElement("td",null,l.a.createElement(N.a,{variant:"body2"},p(e.entities))),l.a.createElement("td",null,l.a.createElement(N.a,{variant:"body2"},p(e.properties))),l.a.createElement("td",null,l.a.createElement(N.a,{variant:"body2"},p(e.classes))))})))))),l.a.createElement(v.a,{elevation:4,className:e.paperPadding},o.isLoading&&l.a.createElement(ae.a,{className:e.loadSpinner}),o.graph_data.nodes.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{variant:"h5",className:e.margin,style:{marginTop:t.spacing(6)}},l.a.createElement("b",null,"Entities-relations")," metadata (",l.a.createElement("a",{href:he,className:e.link},"HCLS"),")"),l.a.createElement(N.a,{variant:"body1",className:e.margin,style:{marginTop:t.spacing(6)}},l.a.createElement("a",{href:"https://perfectgraph-5c619.web.app/",className:e.link,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("b",null,"Perfect Graph"))," visualization"),l.a.createElement(v.a,{elevation:4,className:e.paperPadding},l.a.createElement(ce.a,null,l.a.createElement(ie.a,{style:{width:"100%",height:800},config:{layout:ie.a.Layouts.euler},nodes:o.graph_data.nodes,edges:o.graph_data.edges,renderNode:function(e){var t=e.item.data;return l.a.createElement(ie.a.View,{style:{width:100,height:100,backgroundColor:t.color}},l.a.createElement(ie.a.Text,{style:{fontSize:16}},t.uri.substring(t.uri.lastIndexOf("/")+1)))}})))),o.graph_data.nodes.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{variant:"body1",className:e.margin,style:{marginTop:t.spacing(6)}},l.a.createElement("a",{href:"https://github.com/plotly/react-cytoscapejs",className:e.link,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("b",null,"Cytoscape JS"))," visualization"),l.a.createElement(v.a,{elevation:4,className:e.paperPadding,style:{height:"80vh",textAlign:"left"}},l.a.createElement(pe.a,{elements:o.cytoscape_elements,layout:{name:"cola",nodeSpacing:400,edgeLengthVal:1500,animate:!1,randomize:!1,maxSimulationTime:1500},style:{width:"100%",height:"100%"},stylesheet:[{selector:"edge",style:{label:"data(label)",color:"#546e7a","text-wrap":"wrap","font-size":"18px","text-opacity":.9,"target-arrow-shape":"triangle","curve-style":"bezier","control-point-step-size":300}},{selector:"node",style:{label:"data(label)","text-wrap":"wrap","font-size":"30px"}}]}))),Object.keys(o.entities_relations_overview_results).length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{variant:"body1",className:e.margin,style:{marginTop:t.spacing(6)}},l.a.createElement("a",{href:"https://datatables.net",className:e.link,target:"_blank",rel:"noopener noreferrer"},"Datatable")),l.a.createElement(v.a,{elevation:4,className:e.paperPadding},l.a.createElement("table",{id:"datatableEntitiesRelationOverview",style:{wordBreak:"break-all"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Graph"),l.a.createElement("th",null,"# of instance of subject"),l.a.createElement("th",null,"Subject class"),l.a.createElement("th",null,"Have relation"),l.a.createElement("th",null,"With Object class"),l.a.createElement("th",null,"# of instance of object"))),l.a.createElement("tbody",null,o.entities_relations_overview_results.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement(ve,{uri:e.graph.value,variant:"body2"})),l.a.createElement("td",null,l.a.createElement(N.a,{variant:"body2"},p(e.subjectCount))),l.a.createElement("td",null,l.a.createElement(ve,{uri:e.subject.value,variant:"body2"})),l.a.createElement("td",null,l.a.createElement(ve,{uri:e.predicate.value,variant:"body2"})),e.object&&l.a.createElement("td",null,l.a.createElement(ve,{uri:e.object.value,variant:"body2"})),!e.object&&l.a.createElement("td",null,l.a.createElement(N.a,{variant:"body2"},"Not found")),l.a.createElement("td",null,l.a.createElement(N.a,{variant:"body2"},p(e.objectCount))))}))))))))}var Fe=a(1193);function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We=a(356);We.DataTable=a(436),de.a.use(ge.a);var Ge=Object(g.a)((function(e){return{margin:{marginTop:e.spacing(2),marginBottom:e.spacing(2),textAlign:"center"},link:{textDecoration:"none",textTransform:"none",color:e.palette.primary.main,"&:hover":{color:e.palette.secondary.main,textDecoration:"none"}},fullWidth:{width:"100%"},normalFont:{fontSize:"14px"},smallerFont:{fontSize:"12px"},alignLeft:{textAlign:"left"},paperPadding:{padding:e.spacing(2,2)},paperTitle:{fontWeight:300,marginBottom:e.spacing(1)},loadSpinner:{padding:e.spacing(10,10)},datatable_text:{wordBreak:"break-word"}}}));function He(){var e=Ge(),t=Object(te.a)(),a=l.a.useState({describe_uri:"",describe_results:[],search_results:[],graph_data:{nodes:[],edges:[]},cytoscape_elements:[],isLoading:!0,requestError:!1}),n=r()(a,2),o=n[0],i=n[1],c=l.a.useRef(o),p=l.a.useCallback((function(e){c.current=ze(ze({},c.current),e),i(c.current)}),[i]),u=Object(s.f)();l.a.useEffect((function(){p({describe_results:{}}),p({search_results:{}}),p({isLoading:!0});var e=new URLSearchParams(u.search+u.hash).get("uri"),t=he;if(!t){var a=localStorage.getItem("intothegraphSettings");if(a)t=JSON.parse(a).sparql_endpoint}e||(e="https://identifiers.org/drugbank:DB00002"),t||(t="https://graphdb.dumontierlab.com/repositories/ncats-red-kg"),p({describe_uri:e}),p({describe_endpoint:t}),/^(?:node[0-9]+)|((https?|ftp):.*)$/.test(e)?re.a.get(t+"?query="+function(e){var t;return t=e.startsWith("node")?"SELECT DISTINCT ?subject ?predicate ?object ?graph WHERE {\n          GRAPH ?graph {\n            "+(e="_:"+e)+" ?predicate ?object .\n          }\n        } LIMIT 50":"SELECT DISTINCT ?subject ?predicate ?object ?graph WHERE {\n        {\n          SELECT * {\n            GRAPH ?graph {\n              "+(e="<"+e+">")+" ?predicate ?object .\n              BIND("+e+" AS ?subject)\n            }\n          } LIMIT 50\n        } UNION {\n          SELECT * {\n            GRAPH ?graph {\n              ?subject ?predicate "+e+" .\n              BIND("+e+" AS ?object)\n            }\n          } LIMIT 50\n        } UNION {\n          SELECT * {\n            GRAPH ?graph {\n              ?subject "+e+" ?object .\n              BIND("+e+" AS ?predicate)\n            }\n          } LIMIT 50\n        } UNION {\n          "+("SELECT * {\n        GRAPH "+e+" {\n          ?subject ?predicate ?object .\n          BIND("+e+" AS ?graph)\n        }\n      } LIMIT 50")+"\n        }\n      }",encodeURIComponent(t)}(e)).then((function(e){var t=e.data.results.bindings;p({describe_results:t}),p({isLoading:!1}),We("#datatableRef").DataTable({autoWidth:!1});var a={},n=[],r=[],o=1;t.forEach((function(e){e.subject.value in a||(a[e.subject.value]={id:e.subject.value,position:{x:100*o,y:400*o},data:{uri:e.subject.value,color:"red"}},r.push({data:{id:e.subject.value,label:e.subject.value}}),o+=1),e.object.value in a||(a[e.object.value]={id:e.object.value,position:{x:80*o,y:40*o},data:{uri:e.object.value,color:"green"}},r.push({data:{id:e.object.value,label:e.object.value}}),o+=1);var t=e.subject.value+e.predicate.value+e.object.value;n.push({id:t,source:e.subject.value,target:e.object.value,data:{uri:e.predicate.value,color:"green"}}),r.push({data:{source:e.subject.value,target:e.object.value,label:e.predicate.value}})}));var l=Object.keys(a).map((function(e){return a[e]}));console.log("Graph nodes and edges data"),console.log(l),console.log(n),p({cytoscape_elements:r})})):re.a.get(t+"?query="+function(e){var t="",a=localStorage.getItem("intothegraphSettings");return a&&(t=JSON.parse(a).search_query),t||(t='SELECT ?foundUri ?foundLabel WHERE {\n        ?foundUri ?p ?foundLabel .\n        VALUES ?p {<http://www.w3.org/2000/01/rdf-schema#label> <https://w3id.org/biolink/vocab/name>} .\n        FILTER(isLiteral(?foundLabel))\n        FILTER contains(?foundLabel, "$TEXT_TO_SEARCH")\n        } LIMIT 5'.replace("$TEXT_TO_SEARCH",e)),encodeURIComponent(t)}(e)).then((function(e){var t=e.data.results.bindings;p({search_results:t}),p({isLoading:!1})})).catch((function(e){console.log(e),p({requestError:!0}),p({isLoading:!1})}))}),[u]);return l.a.createElement(q.a,{className:"mainContainer"},l.a.createElement(N.a,{variant:"h5",className:e.margin},o.describe_uri),o.isLoading&&l.a.createElement(ae.a,{className:e.loadSpinner}),o.describe_results.length>0&&l.a.createElement(v.a,{elevation:4,className:e.paperPadding},l.a.createElement("table",{id:"datatableRef",style:{wordBreak:"break-all"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Subject"),l.a.createElement("th",null,"Predicate"),l.a.createElement("th",null,"Object"),l.a.createElement("th",null,"Graph"))),l.a.createElement("tbody",null,o.describe_results.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement(ve,{variant:"body2",uri:e.subject.value})),l.a.createElement("td",null,l.a.createElement(ve,{variant:"body2",uri:e.predicate.value})),l.a.createElement("td",null,l.a.createElement(ve,{variant:"body2",uri:e.object.value})),l.a.createElement("td",null,l.a.createElement(ve,{variant:"body2",uri:e.graph.value})))}))))),o.search_results.length>0&&l.a.createElement(v.a,{elevation:4,className:e.paperPadding},o.search_results.map((function(t,a){return l.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center",key:a},l.a.createElement(Fe.a,{item:!0,xs:6},l.a.createElement(v.a,{className:e.paperPadding},l.a.createElement(ve,{variant:"body2",uri:t.foundUri.value}))),l.a.createElement(Fe.a,{item:!0,xs:6},l.a.createElement(N.a,{variant:"body2"},t.foundLabel.value)))}))),o.requestError&&l.a.createElement(v.a,{elevation:2,className:e.paperPadding},l.a.createElement(N.a,{variant:"body2"},"The request to the SPARQL endpoint failed, try to ",l.a.createElement("a",{href:"",className:e.link},"reload the page \u267b\ufe0f"),l.a.createElement("br",null),"Or\xa0",l.a.createElement("a",{href:"https://addons.mozilla.org/fr/firefox/addon/cors-everywhere/",className:e.link,target:"_blank",rel:"noopener noreferrer"},"enable CORS requests")," in your browser.")),!o.requestError&&!o.isLoading&&o.describe_results.length<1&&!o.search_results.length&&l.a.createElement(v.a,{elevation:2,className:e.paperPadding},l.a.createElement(N.a,{variant:"body2"},"We could not find a match for your URI in the SPARQL endpoint.")),!o.requestError&&!o.isLoading&&o.search_results.length<1&&!o.describe_results.length&&l.a.createElement(v.a,{elevation:2,className:e.paperPadding},l.a.createElement(N.a,{variant:"body2"},"We could not find a match for your search in the SPARQL endpoint.")),o.graph_data.nodes.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{variant:"h5",className:e.margin,style:{marginTop:t.spacing(6)}},"Perfect Graph visualization"),l.a.createElement(v.a,{elevation:4,className:e.paperPadding},l.a.createElement(ce.a,null,l.a.createElement(ie.a,{style:{width:"100%",height:800},nodes:o.graph_data.nodes,edges:o.graph_data.edges,renderNode:function(e){var t=e.item.data;return l.a.createElement(ie.a.View,{style:{width:100,height:100,backgroundColor:t.color}},l.a.createElement(ie.a.Text,{style:{fontSize:16}},t.uri))}})))),o.cytoscape_elements.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{variant:"h5",className:e.margin,style:{marginTop:t.spacing(6)}},"Cytoscape JS visualization"),l.a.createElement(v.a,{elevation:4,className:e.paperPadding,style:{height:"100vh",textAlign:"left"}},l.a.createElement(pe.a,{elements:o.cytoscape_elements,layout:{name:"cola",nodeSpacing:170,animate:!1,randomize:!1,maxSimulationTime:1500},style:{width:"100%",height:"100%"},stylesheet:[{selector:"edge",style:{label:"data(label)",color:"#546e7a","text-wrap":"wrap","font-size":"18px","text-opacity":.9,"target-arrow-shape":"triangle","curve-style":"bezier","control-point-step-size":300}},{selector:"node",style:{label:"data(label)","text-wrap":"wrap","font-size":"30px"}}]}))))}function Ue(){var e=l.a.useState("https://bio2rdf.org/sparql"),t=r()(e,2),a=t[0],n=t[1],o=Object(p.a)({palette:{primary:{light:"#63a4ff",main:"#2196f3",dark:"#004ba0"},secondary:{light:"#ffa040",main:"#ff6f00",dark:"#c43e00"}},typography:{fontFamily:'"Open Sans", "Roboto", "Arial"',fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}});return l.a.createElement(F.Provider,{value:[a,n]},l.a.createElement(u.a,{theme:o},l.a.createElement(c.a,{basename:"/bio2rdf-website/"},l.a.createElement(i.a,{style:{height:"100%",backgroundColor:"#eceff1"}},l.a.createElement(Y,null),l.a.createElement(s.a,{exact:!0,path:"/",component:Ae}),l.a.createElement(s.a,{path:"/describe",component:He}),l.a.createElement(ee,null)))))}},845:function(e,t,a){a(846),a(847),e.exports=a(1134)},846:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},856:function(e,t,a){var n=a(354),r=a(857);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(r,o);e.exports=r.locals||{}},857:function(e,t,a){(t=a(355)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Open+Sans);"]),t.push([e.i,'.flexGrow {\n  flex-grow: 1; \n}\n\n.mainContainer {\n  margin-top: 30px;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n/* a {\n  text-transform: none;\n  text-decoration: none\n} */\n\npre, code {\n  font-family: monospace, monospace;\n  border-radius: 6px;\n  padding: 2px;\n  color: white;\n  background-color: #455a64;\n  /* background-color: #1976d2; */\n}\n  \n/* @import url("https://fonts.googleapis.com/icon?family=Material+Icons");\nbody {\n  margin: 0;\n  padding: 0;\n  text-align: center; } */\n',""]),e.exports=t}},[[845,1,2]]]);
//# sourceMappingURL=app.4e7a8426.chunk.js.map